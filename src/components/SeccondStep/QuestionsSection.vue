<template>
  <section ref="section4" class="section4" data-bgcolor="#eacbd1" data-textcolor="#536fae">
    <div ref="oval3" class="oval-front">
      <div class="wave-divider">
        <svg
          id="wave"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 456.7 39.9"
          style="enable-background: new 0 0 456.7 39.9"
          xml:space="preserve"
        >
          <path
            class="st69"
            d="M4.2,33.2c0.1-0.1,7-6.9,15.9-13.8C27.7,13.7,38.7,6,47.5,6c7.5,0,14,6.6,20.3,12.9l0.4,0.4
	c6.8,6.9,14.6,14.6,24.6,14.6c9.9,0,17.7-7.8,24.5-14.6l0.5-0.5C124,12.5,130.5,6,137.9,6c7.5,0,13.9,6.5,20.2,12.9l0.4,0.4
	c6.8,6.9,14.6,14.6,24.5,14.6c10,0,17.8-7.8,24.6-14.6l0.5-0.5C214.4,12.5,220.9,6,228.4,6c7.5,0,14,6.5,20.2,12.9l0.4,0.4
	c6.8,6.9,14.5,14.6,24.5,14.6c9.9,0,17.7-7.8,24.5-14.6l0.3-0.3c6.3-6.4,12.9-13,20.5-13c7.5,0,14.1,6.6,20.4,13l0.3,0.3
    c6.8,6.9,14.6,14.6,24.5,14.6c9.9,0,17.6-7.8,24.5-14.6l0.2-0.2C395.1,12.6,401.6,6,409.2,6c8.7,0,19.8,7.7,27.3,13.4
	c8.9,6.8,15.9,13.7,16,13.8"
          />
        </svg>
      </div>
      How do you balance your personal ambitions with maintaining relationships?
    </div>
    <div class="background-ovals">
      <div ref="oval1" class="oval1 oval-bg">
        <div class="wave-divider">
          <svg
            id="wave"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            viewBox="0 0 456.7 39.9"
            style="enable-background: new 0 0 456.7 39.9"
            xml:space="preserve"
          >
            <path
              class="st69"
              d="M4.2,33.2c0.1-0.1,7-6.9,15.9-13.8C27.7,13.7,38.7,6,47.5,6c7.5,0,14,6.6,20.3,12.9l0.4,0.4
	c6.8,6.9,14.6,14.6,24.6,14.6c9.9,0,17.7-7.8,24.5-14.6l0.5-0.5C124,12.5,130.5,6,137.9,6c7.5,0,13.9,6.5,20.2,12.9l0.4,0.4
	c6.8,6.9,14.6,14.6,24.5,14.6c10,0,17.8-7.8,24.6-14.6l0.5-0.5C214.4,12.5,220.9,6,228.4,6c7.5,0,14,6.5,20.2,12.9l0.4,0.4
	c6.8,6.9,14.5,14.6,24.5,14.6c9.9,0,17.7-7.8,24.5-14.6l0.3-0.3c6.3-6.4,12.9-13,20.5-13c7.5,0,14.1,6.6,20.4,13l0.3,0.3
    c6.8,6.9,14.6,14.6,24.5,14.6c9.9,0,17.6-7.8,24.5-14.6l0.2-0.2C395.1,12.6,401.6,6,409.2,6c8.7,0,19.8,7.7,27.3,13.4
	c8.9,6.8,15.9,13.7,16,13.8"
            />
          </svg>
        </div>
        How do you balance your personal ambitions with maintaining relationships?
      </div>
      <div ref="oval2" class="oval2 oval-bg">
        <div class="wave-divider">
          <svg
            id="wave"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            viewBox="0 0 456.7 39.9"
            style="enable-background: new 0 0 456.7 39.9"
            xml:space="preserve"
          >
            <path
              class="st69"
              d="M4.2,33.2c0.1-0.1,7-6.9,15.9-13.8C27.7,13.7,38.7,6,47.5,6c7.5,0,14,6.6,20.3,12.9l0.4,0.4
	c6.8,6.9,14.6,14.6,24.6,14.6c9.9,0,17.7-7.8,24.5-14.6l0.5-0.5C124,12.5,130.5,6,137.9,6c7.5,0,13.9,6.5,20.2,12.9l0.4,0.4
	c6.8,6.9,14.6,14.6,24.5,14.6c10,0,17.8-7.8,24.6-14.6l0.5-0.5C214.4,12.5,220.9,6,228.4,6c7.5,0,14,6.5,20.2,12.9l0.4,0.4
	c6.8,6.9,14.5,14.6,24.5,14.6c9.9,0,17.7-7.8,24.5-14.6l0.3-0.3c6.3-6.4,12.9-13,20.5-13c7.5,0,14.1,6.6,20.4,13l0.3,0.3
    c6.8,6.9,14.6,14.6,24.5,14.6c9.9,0,17.6-7.8,24.5-14.6l0.2-0.2C395.1,12.6,401.6,6,409.2,6c8.7,0,19.8,7.7,27.3,13.4
	c8.9,6.8,15.9,13.7,16,13.8"
            />
          </svg>
        </div>
        How do you balance your personal ambitions with maintaining relationships?
      </div>
    </div>
  </section>
</template>

<script setup>
import { onMounted, ref } from 'vue'
import { gsap } from 'gsap'
const oval1 = ref(null)
const oval2 = ref(null)
const oval3 = ref(null)
onMounted(() => {
  const ovals = [oval1.value, oval2.value]
  window.addEventListener('mousemove', (event) => {
    const { clientX: x, clientY: y } = event
    const centerX = window.innerWidth / 2
    const centerY = window.innerHeight / 2

    ovals.forEach((oval, index) => {
      const intensity = index === 2 ? 1.5 : 1 // بیضی جلوتر سریع‌تر حرکت کنه
      const moveX = ((x - centerX) / 30) * intensity
      const moveY = ((y - centerY) / 30) * intensity
      gsap.to(oval, {
        x: moveX,
        y: moveY,

        duration: 0.4,
        ease: 'power2.out',
      })
    })
  })
  window.addEventListener('mousemove', (event) => {
    const { clientX: x, clientY: y } = event
    const centerX = window.innerWidth / 2
    const centerY = window.innerHeight / 2

    const intensity = 1
    const moveX = (-(x - centerX) / 100) * intensity
    const moveY = (-(y - centerY) / 100) * intensity
    gsap.to(oval3.value, {
      x: moveX,
      y: moveY,

      duration: 0.4,
      ease: 'power2.out',
    })
  })
})
</script>

<style lang="scss" scoped>
.section4 {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

.background-ovals {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  right: 0;
  left: 0;
  margin: auto;
  filter: blur(3px);
}
.oval2 {
  position: absolute;
  width: 320px; /* اندازه بیضی */
  height: 120px;
  right: 10%;
  top: 50%;
  border-radius: 100px;
  border: 1px solid rgba(63, 63, 63, 0.986);
  transition: transform 0.2s ease-out;
  display: flex;
  align-items: center;
  // flex-wrap: wrap;
  gap: 24px;
  padding: 16px;
}
.oval1 {
  position: absolute;
  width: 300px; /* اندازه بیضی */
  height: 100px;
  right: 40%;
  top: 25%;
  border-radius: 100px;
  border: 1px solid rgba(134, 134, 134, 0.801);
  transition: transform 0.2s ease-out;
  display: flex;
  align-items: center;
  // flex-wrap: wrap;
  gap: 24px;
  padding: 16px;
}

.oval-bg {
  opacity: 0.3; /* محو کردن بیضی‌های پس‌زمینه */
}

.oval-front {
  position: absolute;
  right: 50%;
  border-radius: 100px;
  border: 1px solid rgba(173, 173, 173, 0.664);
  transition: transform 0.2s ease-out;
  opacity: 1;
  color: rgba(38, 51, 127, 1);
  font-size: 16px;
  width: 400px; /* اندازه بیضی */
  height: 150px;
  display: flex;
  align-items: center;
  // flex-wrap: wrap;
  gap: 24px;
  padding: 16px;
}

@keyframes wave {
  0% {
    left: -80px;
  }
  100% {
    left: 0;
  }
}

.wave-divider {
  width: 100px;
  overflow: hidden;
}
.wave-divider svg {
  position: relative;
  left: -50px;
  width: 200px;
  animation: wave 2s linear infinite;
  fill: none;
  stroke: #96f0fc;
  stroke-width: 10;
  stroke-miterlimit: 10;
}
</style>
